!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();new class{constructor(){this.maxSize=10485760,this.currentSize=0,this.prefix="xubio_cache_",this.ttlMap={clientes:864e5,productos:432e5,listaPrecios:216e5,maestros:6048e5},this.calcularTama√±oActual()}"calcularTama√±oActual"(){this.currentSize=0;Object.keys(localStorage).forEach(e=>{if(e.startsWith(this.prefix))try{const t=localStorage.getItem(e);t&&(this.currentSize+=new Blob([t]).size)}catch(t){}})}"calcularTama√±oObjeto"(e){return new Blob([JSON.stringify(e)]).size}getCachedData(e){try{const t=localStorage.getItem(`${this.prefix}${e}`);if(!t)return null;const{data:o,timestamp:a,ttl:r}=JSON.parse(t),n=Date.now();if(n-a>r)return localStorage.removeItem(`${this.prefix}${e}`),this.calcularTama√±oActual(),console.log(`‚è∞ Cache expirado para: ${e}`),null;const i=Math.floor((n-a)/1e3/60);return console.log(`‚úÖ Cache v√°lido para: ${e} (edad: ${i} minutos)`),o}catch(t){return console.error(`‚ùå Error leyendo cache ${e}:`,t),localStorage.removeItem(`${this.prefix}${e}`),this.calcularTama√±oActual(),null}}setCachedData(e,t,o=null){try{const a=o||this.getTTL(e)||36e5,r={data:t,timestamp:Date.now(),ttl:a},n=this.calcularTama√±oObjeto(r);this.currentSize+n>this.maxSize&&(console.warn(`‚ö†Ô∏è Cache casi lleno (${Math.round(this.currentSize/1024/1024*100)/100}MB), limpiando caches viejos...`),this.limpiarCachesExpirados(),this.currentSize+n>this.maxSize&&this.evictOldest()),localStorage.setItem(`${this.prefix}${e}`,JSON.stringify(r)),this.currentSize+=n,console.log(`üíæ Cache guardado para: ${e} (TTL: ${Math.floor(a/1e3/60)} minutos, tama√±o: ${Math.round(n/1024)}KB)`)}catch(a){console.error(`‚ùå Error guardando cache ${e}:`,a),a instanceof Error&&"QuotaExceededError"===a.name&&(this.limpiarCachesExpirados(),this.evictOldest())}}evictOldest(){const e=Object.keys(localStorage),t=[];e.forEach(e=>{if(e.startsWith(this.prefix))try{const o=localStorage.getItem(e);if(o){const{timestamp:a}=JSON.parse(o);t.push({key:e,timestamp:a})}}catch(o){}}),t.sort((e,t)=>e.timestamp-t.timestamp);let o=0;for(const a of t){if(this.currentSize<.8*this.maxSize)break;localStorage.removeItem(a.key),o++}this.calcularTama√±oActual(),o>0&&console.log(`üóëÔ∏è Evicted ${o} caches antiguos para liberar espacio`)}invalidarCache(e){const t=`${this.prefix}${e}`;localStorage.getItem(t)&&(localStorage.removeItem(t),this.calcularTama√±oActual(),console.log(`üóëÔ∏è Cache invalidado: ${e}`))}limpiarCachesExpirados(){const e=Object.keys(localStorage);let t=0;e.forEach(e=>{if(e.startsWith(this.prefix))try{const o=localStorage.getItem(e);if(o){const{timestamp:a,ttl:r}=JSON.parse(o);Date.now()-a>r&&(localStorage.removeItem(e),t++)}}catch(o){localStorage.removeItem(e),t++}}),this.calcularTama√±oActual(),t>0&&console.log(`üßπ Limpiados ${t} caches expirados`)}getTTL(e){return this.ttlMap[e]||36e5}limpiarTodosLosCaches(){const e=Object.keys(localStorage);let t=0;return e.forEach(e=>{e.startsWith(this.prefix)&&(localStorage.removeItem(e),t++)}),this.currentSize=0,console.log(`üóëÔ∏è Limpiados ${t} caches manualmente`),t}getStats(){return{currentSize:this.currentSize,maxSize:this.maxSize,usagePercent:Math.round(this.currentSize/this.maxSize*100),entries:Object.keys(localStorage).filter(e=>e.startsWith(this.prefix)).length}}},window.__vueErrorHandlersInitialized||(window.__vueErrorHandlersInitialized=!0,window.addEventListener("unhandledrejection",e=>{console.error("üö® Promise rechazada no manejada:",e.reason)}));let e="";if("undefined"!=typeof document){const t=document.getElementById("app");t&&(e=t.innerHTML,console.log("üìã Template capturado del DOM:",e.substring(0,100)+"..."))}async function t(){console.log("üöÄ Iniciando montaje de la aplicaci√≥n...");try{const e=document.getElementById("app");if(!e)throw new Error("No se encontr√≥ el elemento #app");console.log("‚úÖ Elemento #app encontrado"),console.log("üì¶ Contenido HTML antes de montar:",e.innerHTML.substring(0,200)+"...");const t=e.innerHTML;e.setAttribute("data-original-html",t),console.log("üì¶ Montando aplicaci√≥n Vue..."),console.log("üí° Vue usar√° el contenido HTML existente como template");const o=app.mount("#app");return setTimeout(()=>{const e=document.getElementById("app");!e||""!==e.innerHTML.trim()&&"\x3c!----\x3e"!==e.innerHTML.trim()||(console.warn("‚ö†Ô∏è El contenido HTML desapareci√≥ despu√©s de montar Vue"),console.warn("üîÑ Restaurando contenido HTML original..."),e.innerHTML=t,console.warn("üí° Necesitamos definir el template expl√≠citamente en la app"))},100),console.log("‚úÖ Vue montado correctamente"),console.log("üì¶ Contenido HTML despu√©s de montar:",e.innerHTML.substring(0,200)+"..."),requestAnimationFrame(()=>{const e=document.getElementById("app");e&&e.hasAttribute("v-cloak")?(console.log("üîì Removiendo v-cloak..."),e.removeAttribute("v-cloak"),console.log("‚úÖ v-cloak removido, contenido visible")):console.log("‚ÑπÔ∏è v-cloak ya fue removido o no estaba presente")}),setTimeout(()=>{var e,t;const o=document.getElementById("app");o&&o.hasAttribute("v-cloak")&&(console.warn("‚ö†Ô∏è v-cloak todav√≠a presente despu√©s de 500ms, removiendo forzadamente..."),o.removeAttribute("v-cloak")),console.log("üîç Diagn√≥stico del contenido:"),console.log("- Elemento #app existe:",!!o),console.log("- Contenido HTML length:",(null==(e=null==o?void 0:o.innerHTML)?void 0:e.length)||0),console.log("- Estilos computed:",o?window.getComputedStyle(o).display:"N/A"),console.log("- Visibility:",o?window.getComputedStyle(o).visibility:"N/A"),console.log("- Opacity:",o?window.getComputedStyle(o).opacity:"N/A"),console.log("- Height:",o?window.getComputedStyle(o).height:"N/A"),console.log("- Primer hijo:",(null==(t=null==o?void 0:o.firstElementChild)?void 0:t.tagName)||"N/A")},500),o}catch(e){console.error("üö® Error al montar la aplicaci√≥n:",e);const t=document.getElementById("app");if(t){t.removeAttribute("v-cloak");const o=e instanceof Error?e.message:String(e),a=e instanceof Error?e.stack:String(e);t.innerHTML=`\n        <div style="max-width: 800px; margin: 50px auto; padding: 30px; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">\n          <h1 style="color: #f44336; margin-bottom: 20px;">‚ùå Error al cargar la aplicaci√≥n</h1>\n          <div style="background: #fff5f5; border-left: 4px solid #f44336; padding: 15px; margin-bottom: 20px; border-radius: 4px;">\n            <p style="margin: 0; color: #721c24; font-weight: 500;">${o||"Error desconocido"}</p>\n          </div>\n          <div style="background: #f8f9fa; padding: 15px; border-radius: 4px; margin-bottom: 20px;">\n            <h3 style="margin-top: 0; color: #333;">Posibles soluciones:</h3>\n            <ul style="color: #666; line-height: 1.8;">\n              <li>Recarga la p√°gina (F5)</li>\n              <li>Revisa la consola del navegador (F12) para m√°s detalles</li>\n              <li>Verifica que el servidor est√© funcionando correctamente</li>\n            </ul>\n          </div>\n          <button onclick="location.reload()" style="background: #4CAF50; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500;">\n            üîÑ Recargar p√°gina\n          </button>\n          <details style="margin-top: 20px;">\n            <summary style="cursor: pointer; color: #666; font-size: 14px;">Ver detalles t√©cnicos</summary>\n            <pre style="background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto; margin-top: 10px; font-size: 12px; color: #333;">${a||String(e)}</pre>\n          </details>\n        </div>\n      `}throw e}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t();
